const express = require('express')
const adminRoute = express.Router()
const controller = require('../controllers/admin.controller')
const auth = require('../middleware/jwtadmin')
const trycatchmiddleware =require('../middleware/trycatchmidlware')

adminRoute.post('/admin/login',trycatchmiddleware(controller.admin))
adminRoute.get('/admin/users',auth,trycatchmiddleware(controller.adminuser))
adminRoute.get('/admin/users/:id',auth,trycatchmiddleware(controller.adminuserbyid))
adminRoute.get('/admin/products',auth,trycatchmiddleware(controller.adminviewproduct))
adminRoute.get('/admin/products/:id',auth,trycatchmiddleware(controller.adminviewproductbyid))
adminRoute.get('/admin/products/category/:categoryname',auth,trycatchmiddleware(controller.productcategory))
adminRoute.post('/admin/products',auth,trycatchmiddleware(controller.adminAddproduct))
adminRoute.put('/admin/products',auth,trycatchmiddleware(controller.adminEditproduct))
adminRoute.delete('/admin/products',auth,trycatchmiddleware(controller.adminDelete))
adminRoute.get('/admin/stats',auth,trycatchmiddleware(controller.stats))
adminRoute.get('/admin/orders',auth,trycatchmiddleware(controller.orders))
module.exports=adminRoute